#
#	h2nginx  - nginx installer script for cPanel servers w\ hooks and stuff
#

This is modification of Blargams nginx installer modified to work with nginx RPMs from EPEL and centos.alt.ru releases.

----------- INSTALLL -----------------

sh ./install.sh install

----------- UNINSTALL -----------------
sh ./install.sh uninstall 


Changes 
------------------------------
- removed compilation of nginx via source
- vhosts are installed under /etc/nginx/conf.d/ directory instead of /etc/nginx/vhosts/


--- Blargmans original notes ----
Installer Files
Cpanel Hooks
Cpanel has functionality to hook into certain actions performed within Cpanel. This list of files are self-explanatory. They add/remove nginx vhosts depending on the action. Hooks are located in /usr/local/cpanel/hooks/

addaddondomain
deladdondomain
addsubdomain
delsubdomain
park                
unpark 


This file is used for installing mod_rpaf during EA.
/scripts/after_apache_make_install  

The default nginx.conf
/etc/nginx/nginx.conf    

This script run after account creation or restorepkg. It creates a nginx vhost for that domain.
/scripts/postwwwacct  

Simple function for getting data out of WHM via it's XML API
/scripts/xmlapi.py

This is where the magic happens. This is the set of functions used for actually writing out the vhost files.
/scripts/createvhosts.py            

Custom init script
/etc/init.d/nginx       

The installer script.
nginxinstaller